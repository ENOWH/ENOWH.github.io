---
title: "DDS_Chap08_Useful Modeling Techniques"
excerpt: "Chapter08_Useful Modeling Techniques"

categories:
  - DesignOfDigitalSystem
tags:
  - [Design Of Digital System]

permalink: /categories/DDS/Chapter08_DSS

toc: true
toc_sticky: true

date: 2025-05-27
last_modified_at: 2025-05-27
---

# ğŸ“˜ Chapter 8: Useful Modeling Techniques

## 1. Procedural Continuous Assignments
- assign / deassign
- force / release
- DFF ì˜ˆì œ
- ë””ë²„ê¹…ìš© ìš©ë„

## 2. Overriding Parameters
- defparam ë°©ì‹ (ë¹„ê¶Œì¥)
- module instance íŒŒë¼ë¯¸í„° ì¬ì •ì˜ (ê¶Œì¥)
- ì˜ˆì œ: shift register, ripple-carry adder ë“±

## 3. Conditional Compilation and Execution
- `ifdef / `ifndef / `else / `endif
- $test$plusargs, $value$plusargs
- ì¡°ê±´ë¶€ ì‹¤í–‰ ì˜ˆì œ

## 4. Time Scales
- `timescale ë¬¸ë²•
- ì°¸ì¡° ì‹œê°„ ë‹¨ìœ„ / ì •ë°€ë„
- ì‹œë®¬ë ˆì´ì…˜ ì‹œê°„ì— ë¯¸ì¹˜ëŠ” ì˜í–¥

## 5. Useful System Tasks
- íŒŒì¼ ì…ì¶œë ¥: $fopen, $fdisplay, $fscanf, $fread, $fclose ë“±
- ê³„ì¸µ ì¶œë ¥: %m
- ëœë¤: $random
- ë©”ëª¨ë¦¬ ì´ˆê¸°í™”: $readmemb, $readmemh
- ì‹œë®¬ë ˆì´ì…˜ ë¤í”„: $dumpfile, $dumpvars, $dumpon, $dumpoff, $dumpall
- ì¶œë ¥ í•¨ìˆ˜: $display, $monitor, $strobe

## 6. Summary
- ìœ ìš©í•œ ëª¨ë¸ë§ ë¬¸ë²• ë° ë””ë²„ê¹… ê¸°ë²• ì •ë¦¬

---

# 1. Procedural Continuous Assignments â€“ assign/deassign, force/release

## âœ… ê°œë… íë¦„ ìš”ì•½
Verilogì—ì„œ ì¼ë°˜ì ì¸ `reg` ë³€ìˆ˜ëŠ” **ì ˆì°¨ì  í• ë‹¹ë¬¸(`=` ë˜ëŠ” `<=`)**ìœ¼ë¡œ ê°’ì„ ê°–ëŠ”ë‹¤.  
í•˜ì§€ë§Œ **ì¼ì • ì‹œê°„ ë™ì•ˆ ê°•ì œë¡œ ê°’ì„ ìœ ì§€í•˜ê±°ë‚˜ ë®ì–´ì“°ê¸°** ìœ„í•´ ì‚¬ìš©ë˜ëŠ” ê²ƒì´  
**procedural continuous assignments**ì´ë‹¤.

ë‘ ê°€ì§€ ë°©ì‹ì´ ìˆë‹¤:
- `assign` / `deassign`: register override
- `force` / `release`: register ë˜ëŠ” net override (ë””ë²„ê¹…ì— ìœ ìš©)

---

## âœ… 1-1. assign / deassign

### ğŸ¯ íŠ¹ì§•
- íŠ¹ì • `reg` ë³€ìˆ˜ì— **ì§€ì†ì ìœ¼ë¡œ ê°’ì„ ë®ì–´ì“°ê¸°** ìœ„í•´ ì‚¬ìš©
- **ê¸°ì¡´ procedural assignmentì˜ íš¨ê³¼ë¥¼ ë¬´ì‹œí•˜ê³  override**
- ì˜¤ì§ **register** ë˜ëŠ” **register concat**ë§Œ LHSë¡œ í—ˆìš©
- ë¹„ì¶”ì²œ ìŠ¤íƒ€ì¼ë¡œ, ì£¼ë¡œ í•™ìŠµ ëª©ì /íŠ¹ìˆ˜ ìƒí™©ì—ë§Œ ì‚¬ìš©

### ğŸ¯ ë¬¸ë²•
```verilog
assign reg_var = value;   // procedural assign
deassign reg_var;         // release it back
```

### ğŸ¯ ì˜ˆì‹œ â€“ D Flip-Flop with async reset
```verilog
module edge_dff(q, qbar, d, clk, reset);
  output q, qbar;
  input d, clk, reset;
  reg q, qbar;

  always @(negedge clk) begin
    q = d;
    qbar = ~d;
  end

  always @(reset)
    if (reset) begin
      assign q = 1'b0;
      assign qbar = 1'b1;
    end else begin
      deassign q;
      deassign qbar;
    end
endmodule
```

---

## âœ… 1-2. force / release

### ğŸ¯ íŠ¹ì§•
- **registerë¿ ì•„ë‹ˆë¼ netì—ë„ ì‚¬ìš© ê°€ëŠ¥**
- ê°•ì œë¡œ ê°’ì„ ì§€ì • â†’ ì›ë˜ í• ë‹¹ ë¬´ì‹œ
- `release` ë˜ë©´ ì›ë˜ ê°’ìœ¼ë¡œ ë³µê·€
- ì£¼ë¡œ **í…ŒìŠ¤íŠ¸ë²¤ì¹˜, ë””ë²„ê¹…ìš©**, íšŒë¡œ ì„¤ê³„ ë¸”ë¡ì—ëŠ” ì‚¬ìš© âŒ

### ğŸ¯ ë¬¸ë²•
```verilog
force var = value;
release var;
```

---

## âœ… ì˜ˆì‹œ 1: force on register
```verilog
initial begin
  #50 force dff.q = 1'b1;   // 50nsì— që¥¼ 1ë¡œ ê³ ì •
  #50 release dff.q;        // 100nsì— q í•´ì œ
end
```

---

## âœ… ì˜ˆì‹œ 2: force on net
```verilog
assign out = a & b & c;

initial begin
  #50 force out = a | (b & c); // 50~100ns ë™ì•ˆ outì— ë‹¤ë¥¸ ìˆ˜ì‹ ê°•ì œ
  #50 release out;
end
```

---

## âœ… ë¹„êµ ìš”ì•½

| í‚¤ì›Œë“œ      | ì ìš© ëŒ€ìƒ      | í•©ì„± ê°€ëŠ¥ ì—¬ë¶€ | ì£¼ìš” ìš©ë„       | LHS ì œí•œ |
|-------------|----------------|----------------|------------------|----------|
| `assign`    | reg only       | âŒ             | ê°•ì œ ê°’ ìœ ì§€     | reg, reg concatë§Œ |
| `deassign`  | reg only       | âŒ             | ê°•ì œ í•´ì œ        | â€“        |
| `force`     | reg + net ëª¨ë‘ | âŒ             | í…ŒìŠ¤íŠ¸ë²¤ì¹˜ ë””ë²„ê¹… | ì—†ìŒ     |
| `release`   | reg + net ëª¨ë‘ | âŒ             | ê°•ì œ í•´ì œ        | ì—†ìŒ     |

---

## âœ… ì •ë¦¬ í¬ì¸íŠ¸

- `assign/deassign`ì€ **reg override**, `force/release`ëŠ” **reg + net override**
- ëª¨ë‘ **í•©ì„± ë¶ˆê°€ëŠ¥**, ì‹œë®¬ë ˆì´ì…˜ ë˜ëŠ” ë””ë²„ê¹… ìš©ë„
- ì‹¤ì œ íšŒë¡œ ì„¤ê³„ì—ì„œëŠ” ì‚¬ìš© ìì œ, **í…ŒìŠ¤íŠ¸ë²¤ì¹˜ì—ì„œë§Œ ì‚¬ìš© ê¶Œì¥**

> âœ… Procedural Continuous AssignmentëŠ” **ì •ìƒì ì¸ í• ë‹¹ íë¦„ì„ ì„ì‹œë¡œ ì°¨ë‹¨í•˜ê³  ê°•ì œ ì¡°ì‘í•˜ëŠ” ìš©ë„**ë¡œë§Œ ì‚¬ìš©í•˜ì.

---

# 2. Overriding Parameters â€“ íŒŒë¼ë¯¸í„° ì¬ì •ì˜ ê¸°ë²•

## âœ… ê°œë… íë¦„ ìš”ì•½
Verilogì˜ `parameter`ëŠ” **ì„¤ê³„ ìœ ì—°ì„±ì„ ìœ„í•œ ìƒìˆ˜ ê°’**ìœ¼ë¡œ,  
ëª¨ë“ˆ ì¸ìŠ¤í„´ìŠ¤ë§ˆë‹¤ **ë‹¤ë¥´ê²Œ ì¬ì •ì˜(overriding)**í•  ìˆ˜ ìˆë‹¤.

íŒŒë¼ë¯¸í„° ì¬ì •ì˜ ë°©ë²•ì—ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ë°©ì‹ì´ ìˆë‹¤:
- `defparam` (ë¹„ê¶Œì¥)
- **ì¸ìŠ¤í„´ìŠ¤ ìƒì„± ì‹œ ëª…ì‹œì  ê°’ ì „ë‹¬** (ê¶Œì¥)

---

## âœ… 1. defparam ë°©ì‹ (ë¹„ê¶Œì¥ ìŠ¤íƒ€ì¼)

### ğŸ¯ íŠ¹ì§•
- ì¸ìŠ¤í„´ìŠ¤ì˜ **ê³„ì¸µì  ê²½ë¡œ**ë¥¼ í†µí•´ ê°’ì„ ë®ì–´ì”€
- ì„ ì–¸ ìœ„ì¹˜ì™€ ë¬´ê´€í•˜ê²Œ íŒŒë¼ë¯¸í„°ì— ì ‘ê·¼ ê°€ëŠ¥
- **ì½”ë“œ ì¶”ì  ì–´ë ¤ì›€ â†’ ë¹„ê¶Œì¥ ìŠ¤íƒ€ì¼**

### ğŸ¯ ì˜ˆì‹œ
```verilog
module hello_world;
  parameter id_num = 0;
  initial $display("id = %d", id_num);
endmodule

module top;
  defparam w1.id_num = 1, w2.id_num = 2;
  hello_world w1(), w2();
endmodule
```

---

## âœ… 2. ì¸ìŠ¤í„´ìŠ¤ ìƒì„± ì‹œ íŒŒë¼ë¯¸í„° ì „ë‹¬ (ê¶Œì¥)

### ğŸ¯ ë°©ë²• 1: Ordered List
```verilog
hello_world #(1) w1;      // ì²« ë²ˆì§¸ íŒŒë¼ë¯¸í„°ë§Œ ì„¤ì •
```

### ğŸ¯ ë°©ë²• 2: Named Association
```verilog
hello_world #(.id_num(2)) w2;
```

### ğŸ¯ ì˜ˆì‹œ â€“ ë‹¤ìˆ˜ íŒŒë¼ë¯¸í„° ì§€ì •
```verilog
module bus_master;
  parameter delay1 = 2, delay2 = 3, delay3 = 7;
endmodule

module top;
  bus_master #(4, 5, 6) b1(); // delay1=4, delay2=5, delay3=6
  bus_master #(9, 4) b2();    // delay3ëŠ” default(7)
  bus_master #(.delay2(4), .delay3(7)) b3(); // delay1ì€ default(2)
endmodule
```

---

## âœ… 3. Instance Arraysì™€ íŒŒë¼ë¯¸í„°

```verilog
module array_of_xor #(parameter SIZE=4)(output [SIZE-1:0] y, input [SIZE-1:0] a, b);
  xor G3[SIZE-1:0](y, a, b);
endmodule

module array_of_flops #(parameter BITWIDTH=8)(...);
  flip_flop M[BITWIDTH-1:0](...);
endmodule
```

- íŒŒë¼ë¯¸í„°ë¡œ ì¸ìŠ¤í„´ìŠ¤ ë°°ì—´ í¬ê¸°ë¥¼ ì„¤ì •

---

## âœ… 4. Parameterized Ripple-Carry Adder ì˜ˆì‹œ

```verilog
module RCA #(parameter BITS=8)(sum, c_out, a, b, c_in);
  input [BITS-1:0] a, b;
  output [BITS-1:0] sum;
  ...
  Add_full M[BITS-1:0](...);
endmodule

// 16ë¹„íŠ¸ RCA ìƒì„±
RCA #(16) add_16(sum, carryout, a, b, carryin);
```

---

## âœ… 5. Shift Register ì˜ˆì‹œ

```verilog
module shift #(parameter BITS=8)(out, in, clk, rst);
  output [BITS-1:0] out;
  input in, clk, rst;
  dff shiftreg[BITS-1:0](out, {out[BITS-2:0], in}, clk, rst);
endmodule

// 5ë¹„íŠ¸ ì‰¬í”„íŠ¸ ë ˆì§€ìŠ¤í„° ìƒì„±
shift #(5) shift_5(shiftval, shiftin, clk, rst);
```

---

## âœ… ì •ë¦¬ í¬ì¸íŠ¸

| ë°©ì‹             | ê¶Œì¥ ì—¬ë¶€ | íŠ¹ì§•                                      |
|------------------|-----------|-------------------------------------------|
| `defparam`        | âŒ ë¹„ê¶Œì¥  | ì½”ë“œ ì¶”ì  ì–´ë ¤ì›€, ê³„ì¸µì  ê²½ë¡œ í•„ìš”        |
| ordered list      | â­• ê¶Œì¥     | íŒŒë¼ë¯¸í„° ìˆœì„œì— ë§ê²Œ ì§€ì •                |
| named association | â­• ì ê·¹ ê¶Œì¥ | ëª…í™•í•˜ê³  ê°€ë…ì„± ì¢‹ìŒ, ìˆœì„œ ìƒê´€ ì—†ìŒ       |

> âœ… íŒŒë¼ë¯¸í„° ì¬ì •ì˜ëŠ” **ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ì„¤ê³„**ë¥¼ ìœ„í•´ í•µì‹¬ì ì´ë©°,  
> ê°€ë…ì„±ê³¼ ìœ ì§€ë³´ìˆ˜ë¥¼ ê³ ë ¤í•´ **named parameter ë°©ì‹**ì„ ì“°ëŠ” ê²ƒì´ ê°€ì¥ ì¢‹ë‹¤.

---

# 3. Conditional Compilation and Execution â€“ ì¡°ê±´ë¶€ ì»´íŒŒì¼ & ì‹¤í–‰

## âœ… ê°œë… íë¦„ ìš”ì•½
Verilogì—ì„œëŠ” íŠ¹ì • ì½”ë“œ ë¸”ë¡ì„ **ì»´íŒŒì¼ ì—¬ë¶€ ë˜ëŠ” ì‹¤í–‰ ì—¬ë¶€ì— ë”°ë¼ ì„ íƒì ìœ¼ë¡œ í¬í•¨í•˜ê±°ë‚˜ ì œì™¸**í•  ìˆ˜ ìˆë‹¤.

- **ì¡°ê±´ë¶€ ì»´íŒŒì¼**: ì»´íŒŒì¼ ì‹œì ì— íŠ¹ì • ì½”ë“œ í¬í•¨ ì—¬ë¶€ ê²°ì • (`ifdef`, `ifndef`, ...)
- **ì¡°ê±´ë¶€ ì‹¤í–‰**: ì‹œë®¬ë ˆì´ì…˜ ì‹¤í–‰ ì¤‘ íŠ¹ì • ì¡°ê±´ì— ë”°ë¼ ì‹¤í–‰ ì—¬ë¶€ ê²°ì • (`$test$plusargs`, `$value$plusargs`)

---

## âœ… 1. Conditional Compilation â€“ ì»´íŒŒì¼ ì¡°ê±´ ë¶„ê¸°

### ğŸ¯ ë¬¸ë²•

```verilog
`define FLAG

`ifdef FLAG
  // FLAGê°€ ì •ì˜ëœ ê²½ìš°ì—ë§Œ ì»´íŒŒì¼
`elsif OTHER
  // ë‹¤ë¥¸ ì¡°ê±´
`else
  // ì•„ë¬´ê²ƒë„ ì •ì˜ ì•ˆ ëì„ ê²½ìš°
`endif
```

### ğŸ¯ ì‚¬ìš© ê°€ëŠ¥í•œ ì§€ì‹œë¬¸

| ì§€ì‹œë¬¸       | ì„¤ëª…                          |
|--------------|-------------------------------|
| `define`     | ë§¤í¬ë¡œ ì •ì˜                    |
| `ifdef`      | ì •ì˜ë˜ì–´ ìˆìœ¼ë©´ ì‹¤í–‰           |
| `ifndef`     | ì •ì˜ë˜ì–´ ìˆì§€ ì•Šìœ¼ë©´ ì‹¤í–‰      |
| `elsif`      | ifdef/ifndefì™€ í•¨ê»˜ ì‚¬ìš© ê°€ëŠ¥   |
| `else`       | ìœ„ ì¡°ê±´ ëª¨ë‘ ì•„ë‹ ê²½ìš° ì‹¤í–‰     |
| `endif`      | ì¡°ê±´ë¶€ ì»´íŒŒì¼ ë¸”ë¡ ì¢…ë£Œ        |

---

### ğŸ¯ ì˜ˆì œ 1 â€“ ê¸°ë³¸ ì¡°ê±´ ë¶„ê¸°
```verilog
`ifdef TEST
module test;
  ...
endmodule
`else
module stimulus;
  ...
endmodule
`endif
```

### ğŸ¯ ì˜ˆì œ 2 â€“ ë‹¤ì¤‘ ì¡°ê±´
```verilog
module top;

bus_master b1();

`ifdef ADD_B2
  bus_master b2();
`elsif ADD_B3
  bus_master b3();
`else
  bus_master b4();
`endif

`ifndef IGNORE_B5
  bus_master b5();
`endif

endmodule
```

---

## âœ… 2. Conditional Execution â€“ ì‹¤í–‰ ì¡°ê±´ ë¶„ê¸° (ëŸ°íƒ€ì„)

### ğŸ¯ ì‚¬ìš© ëª©ì 
- ì‹œë®¬ë ˆì´ì…˜ ì‹¤í–‰ ì¤‘ **+ì˜µì…˜ìœ¼ë¡œ ì„¤ì •ëœ í”Œë˜ê·¸**ì— ë”°ë¼ ë™ì‘ ë¶„ê¸°

### ğŸ¯ ì‹œìŠ¤í…œ í•¨ìˆ˜
| í•¨ìˆ˜                 | ì„¤ëª…                                      |
|----------------------|-------------------------------------------|
| `$test$plusargs("FLAG")` | ì‹¤í–‰ ì‹œ `+FLAG`ê°€ í¬í•¨ë˜ì–´ ìˆìœ¼ë©´ true ë°˜í™˜     |
| `$value$plusargs("param=%d", var)` | ì‹¤í–‰ ì‹œ `+param=ê°’` í˜•ì‹ì—ì„œ ê°’ì„ ì¶”ì¶œ |

---

### ğŸ¯ ì˜ˆì œ 1 â€“ $test$plusargs
```verilog
initial begin
  if ($test$plusargs("DISPLAY_VAR"))
    $display("Display = %b", {a, b, c});
  else
    $display("No Display");
end
```

- ì‹¤í–‰ ì‹œ: `+DISPLAY_VAR` ì˜µì…˜ì´ í¬í•¨ë˜ì–´ì•¼ ì¶œë ¥ë¨

---

### ğŸ¯ ì˜ˆì œ 2 â€“ $value$plusargs
```verilog
reg [8*128-1:0] test_string;
integer clk_period;

initial begin
  if ($value$plusargs("testname=%s", test_string))
    $readmemh(test_string, vectors);
  else
    $display("Test name option not specified");

  if ($value$plusargs("clk_t=%d", clk_period))
    forever #(clk_period/2) clk = ~clk;
  else
    $display("Clock period option not specified");
end
```

- ì‹¤í–‰ ì‹œ: `+testname=test.vec +clk_t=10` ì˜µì…˜ ì‚¬ìš©

---

## âœ… ì •ë¦¬ í¬ì¸íŠ¸

| êµ¬ë¶„                | ì¡°ê±´ë¶€ ì»´íŒŒì¼                         | ì¡°ê±´ë¶€ ì‹¤í–‰                                |
|---------------------|----------------------------------------|---------------------------------------------|
| ì‹œì                 | ì»´íŒŒì¼ ì‹œ                              | ì‹œë®¬ë ˆì´ì…˜ ëŸ°íƒ€ì„                           |
| í‚¤ì›Œë“œ/í•¨ìˆ˜         | `ifdef`, `ifndef`, `else`, `endif`     | `$test$plusargs`, `$value$plusargs`         |
| ìš©ë„                | ëª¨ë“ˆ í¬í•¨/ì œì™¸, í…ŒìŠ¤íŠ¸ ëŒ€ìƒ ì „í™˜ ë“±     | ì¶œë ¥, ì´ˆê¸°í™”, ë™ì‘ ì¡°ê±´ ë¶„ê¸°                |
| ì…ë ¥ ë°©ë²•           | `define` ë˜ëŠ” ì»´íŒŒì¼ í”Œë˜ê·¸             | ì‹œë®¬ë ˆì´í„° ì‹¤í–‰ ì‹œ `+FLAG`, `+key=value` ì‚¬ìš© |

> âœ… ì¡°ê±´ë¶€ ì»´íŒŒì¼ì€ **ì½”ë“œ ìœ ì—°ì„± í–¥ìƒ**, ì¡°ê±´ë¶€ ì‹¤í–‰ì€ **í…ŒìŠ¤íŠ¸ ìë™í™” ë° ì„¤ì • ë¶„ë¦¬**ì— ë§¤ìš° ìœ ìš©í•˜ë‹¤.

---

# 4. Time Scales â€“ `timescale` ë¬¸ë²•ê³¼ ì‹œë®¬ë ˆì´ì…˜ ë‹¨ìœ„ ì„¤ì •

## âœ… ê°œë… íë¦„ ìš”ì•½
Verilogì—ì„œ ì‹œê°„ ë‹¨ìœ„ë¥¼ ì„¤ì •í•˜ëŠ” **`timescale` ë””ë ‰í‹°ë¸Œ**ëŠ”  
ëª¨ë“ˆ ë‹¨ìœ„ë¡œ ì‹œë®¬ë ˆì´ì…˜ ì‹œê°„ í•´ì„ ê¸°ì¤€ì„ ì •ì˜í•œë‹¤.

```verilog
`timescale <time_unit> / <time_precision>
```

- `<time_unit>`: `#`ìœ¼ë¡œ í‘œí˜„ë˜ëŠ” ì§€ì—°ì˜ ê¸°ë³¸ ë‹¨ìœ„
- `<time_precision>`: ì‹œë®¬ë ˆì´ì…˜ ì‹œ ì—°ì‚° ê²°ê³¼ë¥¼ **ì–¼ë§ˆë‚˜ ì •ë°€í•˜ê²Œ ë°˜ì˜¬ë¦¼í• ì§€**

---

## âœ… ìœ íš¨í•œ ìˆ«ì

- 1, 10, 100ë§Œ ì‚¬ìš© ê°€ëŠ¥
- ì‹œê°„ ë‹¨ìœ„: `s`, `ms`, `us`, `ns`, `ps`, `fs`

| ì˜ˆì‹œ | ì˜ë¯¸ |
|------|------|
| `1 ns / 100 ps` | ì§€ì—° ë‹¨ìœ„ëŠ” 1ns, ì •ë°€ë„ëŠ” 100ps (ì†Œìˆ˜ì  ì²«ì§¸ ìë¦¬ê¹Œì§€) |
| `100 ps / 1 ps` | ì§€ì—° ë‹¨ìœ„ëŠ” 100ps, ì •ë°€ë„ëŠ” 1ps (ì†Œìˆ˜ì  ì„¸ ìë¦¬ê¹Œì§€) |

---

## âœ… ì˜ˆì œ 1 â€“ dummy1

```verilog
`timescale 100 ns / 1 ns

module dummy1;
  reg toggle;
  initial toggle = 1'b0;
  always #5 begin
    toggle = ~toggle;
    $display("%d, In %m toggle = %b", $time, toggle);
  end
endmodule
```

- `#5`ëŠ” 500ns (100ns * 5)
- ì¶œë ¥ ì‹œê°„ì€ 5, 10, 15, ... ì´ ì•„ë‹ˆë¼ 500, 1000, 1500, ...

---

## âœ… ì˜ˆì œ 2 â€“ dummy2

```verilog
`timescale 1 us / 10 ns

module dummy2;
  reg toggle;
  initial toggle = 1'b0;
  always #5 begin
    toggle = ~toggle;
    $display("%d, In %m toggle = %b", $time, toggle);
  end
endmodule
```

- `#5`ëŠ” 5Î¼s = 5000ns
- ì¶œë ¥ ì‹œê°„ ë‹¨ìœ„ëŠ” ë” í¼

---

## âœ… ì‹œë®¬ë ˆì´ì…˜ ì¶œë ¥ ì˜ˆ (ìš”ì•½)

```
dummy1:
  5, 10, 15, 20, ...

dummy2:
  5, 10, 15, 20, ...
```

â†’ ë‹¨, ì‹¤ì œ ì‹œê°„ í•´ì„ ë‹¨ìœ„ê°€ ë‹¤ë¥´ë¯€ë¡œ ì˜ë¯¸ê°€ ì™„ì „íˆ ë‹¤ë¦„!

---

## âœ… ì •ë¦¬ í¬ì¸íŠ¸

| í•­ëª©               | ì˜ë¯¸                                    |
|--------------------|-----------------------------------------|
| `time_unit`         | `#` ì§€ì—°ì˜ ê¸°ë³¸ ë‹¨ìœ„ (ì˜ˆ: 100ns)        |
| `time_precision`    | ê³„ì‚° ì‹œ ë°˜ì˜¬ë¦¼ ì •ë°€ë„ (ì˜ˆ: 1ns, 10ps)   |
| ì ìš© ë²”ìœ„           | ëª¨ë“ˆ ë‹¨ìœ„ë¡œ ì„¤ì •                        |
| ì‹¤ì œ ì‹œë®¬ë ˆì´ì…˜ ì˜í–¥ | ì‹œê°„ ê³„ì‚°, ì¶œë ¥, ì§€ì—° ì²˜ë¦¬ ëª¨ë‘ì— ì˜í–¥ |

> âœ… `timescale`ì„ ì •í™•íˆ ì„¤ì •í•˜ì§€ ì•Šìœ¼ë©´ **ì‹œë®¬ë ˆì´ì…˜ ê²°ê³¼ í•´ì„ ì˜¤ë¥˜** ë°œìƒ ê°€ëŠ¥  
> íŠ¹íˆ ì—¬ëŸ¬ ëª¨ë“ˆì´ ì—°ê²°ëœ ê²½ìš° **ì¼ê´€ëœ ì‹œê°„ ë‹¨ìœ„ ìœ ì§€**ê°€ ì¤‘ìš”í•˜ë‹¤.

---

# 5. Useful System Tasks â€“ ë””ë²„ê¹…, ì…ì¶œë ¥, ì‹œë®¬ë ˆì´ì…˜ ë„êµ¬

## âœ… ê°œë… íë¦„ ìš”ì•½
VerilogëŠ” ì‹œë®¬ë ˆì´ì…˜ ë””ë²„ê¹… ë° ë°ì´í„° ê´€ì°°ì„ ìœ„í•œ ë‹¤ì–‘í•œ **ì‹œìŠ¤í…œ íƒœìŠ¤í¬(System Task)**ë¥¼ ì œê³µí•œë‹¤.  
ì´ë“¤ì€ ëŒ€ë¶€ë¶„ `$`ë¡œ ì‹œì‘í•˜ë©°, **íŒŒì¼ ì…ì¶œë ¥**, **ëœë¤ ìƒì„±**, **ë©”ëª¨ë¦¬ ì´ˆê¸°í™”**, **ì¶œë ¥ ì œì–´**, **ë³€í™” ë¤í”„** ë“±ì— í™œìš©ëœë‹¤.

---

## âœ… 1. íŒŒì¼ ì¶œë ¥ â€“ `$fopen`, `$fdisplay`, `$fclose`

### ğŸ¯ íŒŒì¼ ì—´ê¸°
```verilog
integer handle;
handle = $fopen("output.txt");
```

### ğŸ¯ íŒŒì¼ ì“°ê¸°
```verilog
$fdisplay(handle, "Value = %d", value);
```

- `desc = handle | 1`: stdout + íŒŒì¼ ë™ì‹œ ì¶œë ¥

### ğŸ¯ íŒŒì¼ ë‹«ê¸°
```verilog
$fclose(handle);
```

---

## âœ… 2. ê³„ì¸µ ì •ë³´ ì¶œë ¥ â€“ `%m`

```verilog
$display("In %m");
```

- ì¶œë ¥ ì˜ˆ: `In top.m1`

---

## âœ… 3. ìŠ¤íŠ¸ë¡œë¹™ â€“ `$strobe`

```verilog
always @(posedge clk)
  $strobe("a = %b, c = %b", a, c);
```

- ê°™ì€ ì‹œê°„ì— ì‹¤í–‰ëœ ì—¬ëŸ¬ `$display`ë³´ë‹¤ **ëŠ¦ê²Œ ì‹¤í–‰ë¨**
- **non-blocking ê²°ê³¼ê¹Œì§€ ë°˜ì˜** ê°€ëŠ¥

---

## âœ… 4. ì¶œë ¥ í•¨ìˆ˜ ë¹„êµ

| í•¨ìˆ˜       | íŠ¹ì§•                                           |
|------------|------------------------------------------------|
| `$display` | í•œ ë²ˆë§Œ ì¶œë ¥ (non-blocking ê²°ê³¼ ë°˜ì˜ X)        |
| `$strobe`  | í˜„ì¬ ì‹œê°„ ë‹¨ìœ„ ì¢…ë£Œ í›„ ì¶œë ¥ (non-blocking ë°˜ì˜ O) |
| `$monitor` | ì§€ì •ëœ ì‹ í˜¸ê°€ ë°”ë€” ë•Œë§ˆë‹¤ ì¶œë ¥ë¨               |

---

## âœ… 5. ëœë¤ ìˆ«ì ìƒì„± â€“ `$random`

```verilog
reg [7:0] rand;
rand = $random % 100;  // -99 ~ 99
```

- ì‹œë“œ ì§€ì • ê°€ëŠ¥: `$random(seed)`
- ì–‘ìˆ˜ë¡œ ë§Œë“¤ê¸°: `rand = { $random } % 60;`

---

## âœ… 6. ë©”ëª¨ë¦¬ ì´ˆê¸°í™” â€“ `$readmemb`, `$readmemh`

```verilog
$readmemb("init.dat", memory);          // ë°”ì´ë„ˆë¦¬
$readmemh("init.hex", memory);          // í—¥ì‚¬
$readmemh("file", mem, start, end);     // ì£¼ì†Œ ë²”ìœ„ ì„¤ì •
```

- íŒŒì¼ì€ í…ìŠ¤íŠ¸ í˜•ì‹
- `@address`ë¡œ ì£¼ì†Œ ì§€ì • ê°€ëŠ¥

---

## âœ… 7. ë©”ëª¨ë¦¬ ì˜ˆì œ

```verilog
reg [7:0] mem[0:7];
initial begin
  $readmemb("init.dat", mem);
  for (i = 0; i < 8; i = i + 1)
    $display("mem[%0d] = %b", i, mem[i]);
end
```

---

## âœ… 8. ë©”ëª¨ë¦¬ + ë¤í”„ ì˜ˆì œ

```verilog
// ë©”ëª¨ë¦¬ ë¡œë”©
$readmemb("data.txt", memory, 0, 15);
$readmemh("data_hex.txt", memory);

// VCD ë¤í”„ ì„¤ì •
$dumpfile("wave.vcd");
$dumpvars(0, top);
$dumpon;
#1000 $dumpoff;
```

---

## âœ… 9. Value Change Dump (VCD)

| ì‹œìŠ¤í…œ íƒœìŠ¤í¬     | ì„¤ëª…                                                    |
|------------------|---------------------------------------------------------|
| `$dumpfile`      | ë¤í”„ íŒŒì¼ëª… ì§€ì • (`.vcd`)                                |
| `$dumpvars`      | ì‹ í˜¸ ë“±ë¡ (`$dumpvars(1, top)` ë“±ìœ¼ë¡œ ê³„ì¸µ ì„¤ì • ê°€ëŠ¥)   |
| `$dumpon/off`    | ë¤í”„ ì‹œì‘/ì¤‘ì§€                                          |
| `$dumpall`       | í˜„ì¬ ì‹œì  ë³€ìˆ˜ ìƒíƒœ ì „ë¶€ ë¤í”„                             |

---

## âœ… ì •ë¦¬ í¬ì¸íŠ¸

| ê¸°ëŠ¥           | ì‹œìŠ¤í…œ íƒœìŠ¤í¬                  |
|----------------|--------------------------------|
| íŒŒì¼ ì“°ê¸°       | `$fopen`, `$fdisplay`, `$fclose` |
| ê³„ì¸µ ì¶œë ¥       | `%m`                           |
| ìƒíƒœ ì¶œë ¥       | `$display`, `$strobe`, `$monitor` |
| ëœë¤ê°’ ìƒì„±     | `$random`                      |
| ë©”ëª¨ë¦¬ ë¡œë”©     | `$readmemb`, `$readmemh`       |
| ì‹œë®¬ë ˆì´ì…˜ ë¤í”„ | `$dumpfile`, `$dumpvars` ë“±    |

> âœ… Verilogì˜ ì‹œìŠ¤í…œ íƒœìŠ¤í¬ëŠ” **ë””ë²„ê¹…, ë¶„ì„, í…ŒìŠ¤íŠ¸ ìë™í™”**ë¥¼ ìœ„í•œ í•„ìˆ˜ ë„êµ¬ì´ë©°,  
> íŠ¹íˆ `$strobe`, `$random`, `$readmemh`, `$dumpvars`ëŠ” **ì‹œí—˜ ëŒ€ë¹„ í•„ìˆ˜ í‚¤ì›Œë“œ**!

---

# 6. Summary â€“ ìœ ìš©í•œ ëª¨ë¸ë§ ê¸°ë²• ìš”ì•½

## âœ… ì „ì²´ ìš”ì•½ ê°œë…
Chapter 8ì—ì„œëŠ” Verilogë¥¼ ë” ìœ ì—°í•˜ê³  ê°•ë ¥í•˜ê²Œ ì‚¬ìš©í•˜ê¸° ìœ„í•œ  
**ìœ ìš©í•œ ëª¨ë¸ë§ ê¸°ë²•ê³¼ ë””ë²„ê¹… ë„êµ¬**ë“¤ì„ ì†Œê°œí•œë‹¤.

ì£¼ìš” ë‚´ìš©ì€ ë‹¤ìŒê³¼ ê°™ë‹¤:

---

## âœ… í•µì‹¬ ì •ë¦¬

### ğŸ”¹ Procedural Continuous Assignments
- `assign/deassign`: reg ê°’ ê°•ì œ ì„¤ì • ë° í•´ì œ
- `force/release`: reg/netì— ëŒ€í•œ ê°•ì œê°’ ì„¤ì • ë° í•´ì œ
- ì¼ë°˜ì ì¸ í• ë‹¹ì„ ë¬´ì‹œí•˜ê³  ì¼ì‹œì ìœ¼ë¡œ ê°’ì„ ë®ì–´ì“¸ ìˆ˜ ìˆìŒ
- **í•©ì„± ë¶ˆê°€**, **ë””ë²„ê¹… ë° ì‹œë®¬ë ˆì´ì…˜ ìš©ë„**

---

### ğŸ”¹ Overriding Parameters
- ëª¨ë“ˆì˜ parameter ê°’ì„ ì¸ìŠ¤í„´ìŠ¤ ë³„ë¡œ ì¬ì •ì˜
- `defparam`: ë¹„ê¶Œì¥ ìŠ¤íƒ€ì¼
- **named parameter ì¸ìŠ¤í„´ìŠ¤í™”** ë°©ì‹ì´ ê°€ì¥ ëª…í™•í•˜ê³  ê¶Œì¥ë¨
- íŒŒë¼ë¯¸í„°í™”ëœ ëª¨ë“ˆì˜ ì¬ì‚¬ìš©ì„± ê·¹ëŒ€í™”

---

### ğŸ”¹ Conditional Compilation & Execution
- `ifdef`, `ifndef` ë“±ìœ¼ë¡œ **ì»´íŒŒì¼ ì‹œì  ì¡°ê±´ ë¶„ê¸°**
- `$test$plusargs`, `$value$plusargs`ë¡œ **ì‹¤í–‰ ì‹œì  ì¡°ê±´ ë¶„ê¸°**
- í…ŒìŠ¤íŠ¸ ìë™í™”, ë‹¤ì–‘í•œ ì„¤ì • ë¶„ê¸° ì²˜ë¦¬ ê°€ëŠ¥

---

### ğŸ”¹ Time Scales
- `timescale` ë””ë ‰í‹°ë¸Œë¡œ **ì§€ì—° ë‹¨ìœ„ì™€ ì •ë°€ë„ ì„¤ì •**
- ëª¨ë“ˆë§ˆë‹¤ ì‹œê°„ ë‹¨ìœ„ë¥¼ ë‹¤ë¥´ê²Œ ì„¤ì •í•  ìˆ˜ ìˆìŒ
- ì‹œë®¬ë ˆì´ì…˜ ì§€ì—° ì‹œê°„ í•´ì„ê³¼ ì¶œë ¥ ë‹¨ìœ„ì— í° ì˜í–¥

---

### ğŸ”¹ Useful System Tasks
| ê¸°ëŠ¥                  | ëŒ€í‘œ ì‹œìŠ¤í…œ íƒœìŠ¤í¬                                          |
|-----------------------|-------------------------------------------------------------|
| ì¶œë ¥ ë° ë””ë²„ê¹…         | `$display`, `$strobe`, `$monitor`                          |
| íŒŒì¼ ì…ì¶œë ¥            | `$fopen`, `$fdisplay`, `$fscanf`, `$fread`, `$fclose`       |
| ê³„ì¸µ ì´ë¦„ ì¶œë ¥         | `%m`                                                       |
| ëœë¤ê°’ ìƒì„±            | `$random`                                                  |
| ë©”ëª¨ë¦¬ ì´ˆê¸°í™”          | `$readmemb`, `$readmemh`                                   |
| ë³€í™” ë¤í”„(VCD)         | `$dumpfile`, `$dumpvars`, `$dumpon`, `$dumpoff`, `$dumpall`|

---

## âœ… ë§ˆë¬´ë¦¬ ìš”ì•½ ë¬¸ì¥

> âœ… ì´ë²ˆ ì¥ì˜ ê¸°ë²•ë“¤ì€ Verilogë¥¼ ë‹¨ìˆœí•œ RTL ì–¸ì–´ì—ì„œ  
> ë” **ìœ ì—°í•˜ê³  í…ŒìŠ¤íŠ¸ ê°€ëŠ¥í•œ ì‹œë®¬ë ˆì´ì…˜ ì–¸ì–´ë¡œ í™•ì¥**ì‹œì¼œì£¼ëŠ” í•µì‹¬ ë„êµ¬ì´ë‹¤.  
> ì‹¤ì „ ì„¤ê³„ì—ì„œ **ê¸°ëŠ¥ì€ RTLë¡œ, í…ŒìŠ¤íŠ¸ëŠ” Behavioral + System Taskë¡œ ë¶„ë¦¬**í•˜ëŠ” ì „ëµì´ ì¤‘ìš”í•˜ë‹¤.